---
layout:     post
title:      单调栈 Tagged Pointer
subtitle:   浅谈 Tagged Pointer
date:       2019-10-29
author:     BY 英俊
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 算法 -ACM
---

链接：
http://poj.org/problem?id=3250

#include<cstdio>
#include<algorithm>
#include<stack>
using namespace std;
struct node{
	int pos;
	long long x;
}；

int main(){
	int n; 
	unsigned long long ans=0;
	stack<node> s;

	scanf("%d",&n);
	for(int i=1;i<=n;i++){
		node a;
		a.pos = i;
		scanf("%lld",&a.x);
		while(!s.empty()){
		node b = s.top();
		if(b.x > a.x)break;
		ans+=a.pos-b.pos-1;
	//	printf("%d %d %d\n",a.pos,b.pos,a.pos-b.pos-1);
		s.pop();

		}
		s.push(a);	
	}
	while(!s.empty()){
		node b = s.top();
		ans+=n-b.pos;
		s.pop();
	}
	printf("%lld\n",ans);
}
